{% extends 'bennguoidung/base.html' %}
{% load static %}

{% block title %}Cập nhật thông tin tài khoản{% endblock %}

{% block style %}

<style>
    .container{
        margin-top:60px;
    }
    .form-group label {
        font-weight: bold;
    }

    .avatar-preview {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        overflow: hidden;
        margin-bottom: 20px;
    }

    .avatar-preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .form-actions {
        margin-top: 20px;
    }
</style>
{% endblock %}

{% block body %}

<div class="container">
    <h1>Cập nhật thông tin tài khoản</h1>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            <label for="id_student_id">Mã sinh viên:</label>
            {{ request.user.userprofile.student_id }}
        </div>
        <div class="form-group">
            <label for="id_course">Khóa học:</label>
            {{ request.user.userprofile.course }}
        </div>
        <div class="form-group">
            <label for="id_phone">Số điện thoại:</label>
            {{ form.phone }}
        </div>
        <div class="form-group">
            <label for="id_avatar">Ảnh đại diện:</label>
            <div class="avatar-preview">
                {% if form.instance.avatar %}
                <img src="{{ form.instance.avatar.url }}" alt="Avatar preview">
                {% else %}
                <img src="{% static 'img/default-avatar.png' %}" alt="Default avatar preview">
                {% endif %}
            </div>
            {{ form.avatar }}
        </div>
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Cập nhật</button>
            <a href="{% url 'account-view' %}" class="btn btn-secondary">Hủy bỏ</a>
        </div>
    </form>
</div>
{% endblock %}